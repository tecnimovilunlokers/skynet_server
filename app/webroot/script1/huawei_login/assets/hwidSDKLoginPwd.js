hwidCASWebpackJsonp([63],{BZTr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Xxa5"),n=i.n(a),o=i("exGp"),s=i.n(o),r=i("Dd8w"),c=i.n(r),l=i("NYxO"),d=i("0sm7"),g=i("i1Te"),u=i("R0OB"),h=i("N8aJ"),p=i("gFv0"),m=i("m5L5"),f=i("Q+uK"),C={mixins:[m.a,p.a,f.a],name:"pwdLogin",data:function(){return{password:"",isNeedResetImgCodeFlag:!1,captchaReady:!1,verifyCaptcha:!1,imgCodeRight:!1,randomCodeObj:{},sessionCodeKey:"login_session_ramdom_code_key",ajaxRandomErrorMsg:"",accountValidMsg:"",passwordValidMsg:"",imgCodeValidMsg:"",useHiddenForm:!1,pwdOffsetHeight:0}},computed:c()({},Object(l.d)("login",["loginTypeObj","loginErrorObj","mountedCallback"]),Object(l.b)("login",["isComponent","isOpenSMSLogin"]),{randomCodeDisabled:function(){return d.c.isTrue(this.statePwdloginData.isNeedImageCode&&"0"==this.localInfo.displayCaptchaType&&!this.imgCodeRight)},isOpenDimensionalCode:function(){return"true"===this.localInfo.isOpenDimensionalCode},isBtnDisAble:function(){return""==this.statePwdloginData.displayUserAccount||""==this.password.trim()||this.randomCodeDisabled},exitThirdEmail:function(){return d.c.notEmpty("undefined"!=typeof hwidSDK&&hwidSDK._businessConfig.email)},showSDKPwdLink:function(){return"undefined"!=typeof hwidSDK&&hwidSDK._businessConfig.showSDKPwdLink},loginBtnName:function(){return"undefined"!=typeof hwidSDK&&hwidSDK._businessConfig.customName&&hwidSDK._businessConfig.customName.loginBtn?hwidSDK._businessConfig.customName.loginBtn:langMap.common_login},loginErrorMsg:function(){return this.loginErrorObj.pwdLoginError||this.accountValidMsg||this.passwordValidMsg||this.imgCodeValidMsg||this.ajaxRandomErrorMsg}}),watch:{"statePwdloginData.isNeedImageCode":function(t){this.getElementHeigth()},loginErrorMsg:function(){this.getElementHeigth()}},mounted:function(){var t=this;this.initThirdEmail(),this.initIsNeedImageCode(),this.businessCallback(),setTimeout(function(){t.useHiddenForm=!0},1e3),this.getElementHeigth()},methods:c()({},Object(l.c)("login",["setLoginTypeObj","setLoginErrorObj","setMountedCallback"]),{clearErrorMessage:function(){this.setLoginErrorObj({})},initThirdEmail:function(){this.exitThirdEmail&&this.setStatePwdloginData({displayUserAccount:hwidSDK._businessConfig.email})},inputEventFn:function(t){this.clearErrorMessage(),this.statePwdloginData.fromVModel?this.setStatePwdloginData({fromVModel:!1,selectMultiAccountAndLogin:!1}):this.setStatePwdloginData({norCrossModel:null,displayUserAccount:t,displayIsLoginId:!1,selectMultiAccountAndLogin:!1})},getElementHeigth:function(){var t=this;this.$nextTick(function(){t.pwdOffsetHeight=t.$refs["hwid-pwdlogin-root"].offsetHeight,t.$emit("getPwdOffsetHeight",t.pwdOffsetHeight)})},getAccountValidMsg:function(t){this.accountValidMsg=t},getPasswordValidMsg:function(t){this.passwordValidMsg=t},getImgCodeErrorMsg:function(t){this.imgCodeValidMsg=t},submitRemoteLogin:function(){var t=this;return s()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.isBtnDisAble,e.t0){e.next=5;break}return e.next=4,t.validateField();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return",!1);case 7:u.a.sendData("PWDLOGIN_CLICK_SUBMIT"),t.clearErrorMessage(),h.a.addLoading("hwid_loading_login_pwd"),t.autoSubmitRemoteLogin();case 11:case"end":return e.stop()}},e,t)}))()},autoSubmitRemoteLogin:function(){this.setUserAccount();var t={password:this.password,selectMultiAccountAndLogin:!0};if(this.setStatePwdloginData(t),this.isNeedGtRandomCode())return this.showRandomCode(),void h.a.removeLoading("hwid_loading_login_pwd");this.mixinAjaxRemoteLogin()},validateField:function(){var t=this;return s()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.accountInput.validateField();case 2:if(e.t0=e.sent,!e.t0){e.next=7;break}return e.next=6,t.$refs.passwordInput.validateField();case 6:e.t0=e.sent;case 7:return i=e.t0,e.abrupt("return",i);case 9:case"end":return e.stop()}},e,t)}))()},setUserAccount:function(){this.statePwdloginData.displayIsLoginId||this.setStatePwdloginData({userAccount:this.statePwdloginData.displayUserAccount})},blurChkRisk:function(){var t=this;return s()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.statePwdloginData.displayUserAccount||t.statePwdloginData.displayIsLoginId){e.next=9;break}return t.setUserAccount(),t.setStatePwdloginData({giveUpBlurEvent:!1}),e.next=5,g.a.sleep(50);case 5:if(t.statePwdloginData.giveUpBlurEvent){e.next=9;break}return t.setStatePwdloginData({selectMultiAccountAndLogin:!1}),e.next=9,t.mixinAjaxChkRisk();case 9:case"end":return e.stop()}},e,t)}))()},errorMsgClickFn:function(t){"error_findPwd"==t.target.className&&this.gotoForgetPwd()},initIsNeedImageCode:function(){this.setStatePwdloginData({isNeedImageCode:d.c.isTrue(this.localInfo.isOpenLocalCacheRisk)})},changeToSmsLogin:function(){this.setStatePwdloginData({giveUpBlurEvent:!0}),this.setLoginTypeObj({currentType:"smsLogin",preType:this.loginTypeObj.currentType})},focusPwdInput:function(){var t=this;this.$nextTick(function(){t.$refs.accountInput.focus()})},businessCallback:function(){var t=this;this.mountedCallback||(this.mountedDetectTime>=10?this.$nextTick(function(){t.mountedCallback||t.setMountedCallback(!0)}):(this.mountedDetectTime++,this.$nextTick(function(){null!=document.querySelector("[ht=click_pwdlogin_submitLogin]")?t.$nextTick(function(){t.mountedCallback||t.setMountedCallback(!0)}):setTimeout(function(){t.businessCallback()},200)})))},changeToQrLogin:function(){this.setStatePwdloginData({giveUpBlurEvent:!0}),this.setLoginTypeObj({currentType:"qrcodeLogin",preType:this.loginTypeObj.currentType})}})},w={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"hwid-pwdlogin-root",staticClass:"hwid-pwdlogin-root"},[i("div",{staticClass:"accountValidMsg"},[i("cas-errorMsg",{attrs:{httagerr:"errorMsg_pwdlogin",msg:t.loginErrorObj.pwdLoginError||t.accountValidMsg||t.passwordValidMsg||t.imgCodeValidMsg||t.ajaxRandomErrorMsg,isHtml:"true"},on:{errorMsgClickFn:t.errorMsgClickFn}})],1),t._v(" "),i("form",[t.useHiddenForm?i("hidden-form"):t._e(),t._v(" "),i("cas-textInput",{ref:"accountInput",class:{"pwdLogin-input-disabled":t.exitThirdEmail},attrs:{placeholder:"login_js_hwaccount_id",value:t.statePwdloginData.displayUserAccount,name:"fieldAccount",propHideError:!0,isUserAccount:!0,propErrorMsg:t.loginErrorObj.pwdLoginError,disabled:t.exitThirdEmail,validRulesType:"loginAccount",htinput:"input_pwdlogin_account"},on:{input:t.inputEventFn,getValidMsg:t.getAccountValidMsg,inputBlurFn:t.blurChkRisk},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitRemoteLogin()}}}),t._v(" "),i("cas-passwordInput",{ref:"passwordInput",staticClass:"marginTop26",attrs:{name:"fieldPassword",isHideInlineError:!0,propErrorMsg:t.loginErrorObj.pwdLoginError,validRulesType:"verify",showEye:!0,isClickWithoutValue:!0,httag:"input_pwdlogin_pwd"},on:{input:t.clearErrorMessage,getValidMsg:t.getPasswordValidMsg},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitRemoteLogin()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),i("keep-alive",{attrs:{include:"cas-randomCode"}},[t.statePwdloginData.isNeedImageCode&&t.isCurrentPage("pwdLogin")?i("cas-randomCode",{class:{marginTop26:"0"==t.localInfo.displayCaptchaType},attrs:{initCaptchaByRisk:!0,sessionCodeKey:t.sessionCodeKey,isNeedResetImgCode:t.isNeedResetImgCodeFlag,propErrorMsg:t.ajaxRandomErrorMsg,isHideInlineError:!0,HT:"input_pwdlogin_imgCode",verifyCaptcha:t.verifyCaptcha},on:{resetRondomCodeSuccess:t.resetRondomCodeSuccess,getImgCodeError:t.getImgCodeError,getFrontEndValidMsg:t.getImgCodeErrorMsg,imgCodeRightFn:t.imgCodeRightFn,inputFn:t.randomCodeInput,keyupEnter:function(e){return t.submitRemoteLogin()},gtReady:t.gtReady,gtSuccess:function(e){return t.mixinAjaxRemoteLogin()},gtResetVerifyCaptcha:function(e){t.verifyCaptcha=!1},getRandomCodeObj:function(e){t.randomCodeObj=e}}}):t._e()],1)],1),t._v(" "),t.isOpenSMSLogin||t.showSDKPwdLink?i("span",{class:{"hwid-smsLogin-link":t.isOpenSMSLogin&&!t.showSDKPwdLink,"hwid-rightPwdLink-link":!t.isOpenSMSLogin&&t.showSDKPwdLink,"hwid-double-link":t.isOpenSMSLogin&&t.showSDKPwdLink,"hwid-link hwid-link-primary login-change-link smslogin":t.isComponent}},[t.isOpenSMSLogin?i("cas-button",{staticClass:"hwid-link",attrs:{type:"textBtn",text:"login_label_smsvalidLoad",HT:"click_label_smsvalidLoad"},on:{textButtonClickFn:t.changeToSmsLogin}}):t._e(),t._v(" "),t.showSDKPwdLink?i("cas-button",{staticClass:"hwid-link",attrs:{type:"textBtn",text:"forget_pwd_tips",HT:"click_label_forgotLink"},on:{textButtonClickFn:t.gotoForgetPwd}}):t._e()],1):t._e(),t._v(" "),t.isComponent&&t.isOpenDimensionalCode?i("span",[i("span",{staticClass:"\n        hwid-link hwid-link-primary hwid-qrcodeLogin-link\n        login-change-link\n        qrcode\n      ",attrs:{HT:"click_pwdLogin_loginQR"},on:{click:function(e){return t.changeToQrLogin()}}},[i("cas-text",{attrs:{t:"login_dialog_qrCodeLogin"}})],1)]):t._e(),t._v(" "),i("div",{staticClass:"hwid-login-btn-wrap",class:{"hwid-login-btn-wrap-close-sms":!t.isOpenSMSLogin&&t.isComponent}},[i("cas-button",{attrs:{text:t.loginBtnName,HT:"click_pwdlogin_submitLogin",type:"normalBtn",loadingIconWidth:24,className:{"hwid-btn-primary hwid-login-btn":!0,"hwid-disabled":t.isBtnDisAble},btName:"hwid_loading_login_pwd"},nativeOn:{click:function(e){return t.submitRemoteLogin()}}})],1)])},staticRenderFns:[]};var D=i("VU/8")(C,w,!1,function(t){i("jZP/")},null,null);e.default=D.exports},N8aJ:function(t,e,i){"use strict";var a=i("1cZr"),n="",o={addLoading:function(t){n!=t&&(""!=n&&n!=t&&this.clearLoading(),a.a.$emit(t,{func:"addLoading"}),this._setOverTime(t),n=t)},removeLoading:function(t){a.a.$emit(t,{func:"removeLoading"}),this._offOverTime()},clearLoading:function(){this.removeLoading(n),n=""},_setOverTime:function(t){var e=this;e.overTime=setTimeout(function(){e.removeLoading(t)},1e4)},_offOverTime:function(){clearTimeout(this.overTime)}};e.a=o},"Q+uK":function(t,e,i){"use strict";var a=i("Dd8w"),n=i.n(a),o=i("NYxO");e.a={watch:{captchaReady:function(t){t&&this.delayVerifyCaptcha&&(this.verifyCaptcha=!0)}},computed:n()({},Object(o.d)("common",["localInfo"]),{isGtRandomCode:function(){return"1"==this.localInfo.displayCaptchaType},isRandomCodeRight:function(){return"0"!=this.localInfo.displayCaptchaType||this.imgCodeRight}}),methods:{getImgCodeError:function(t){this.ajaxRandomErrorMsg=t},randomCodeInput:function(){this.ajaxRandomErrorMsg=""},resetRondomCodeSuccess:function(){this.isNeedResetImgCodeFlag=!1},imgCodeRightFn:function(t){this.imgCodeRight=t},gtReady:function(){this.captchaReady=!0},gtResetVerifyCaptcha:function(){this.verifyCaptcha=!1,this.delayVerifyCaptcha=!1},getRandomCodeObj:function(t){this.randomCodeObj=t},showRandomCode:function(){var t=this;this.isGtRandomCode?this.$nextTick(function(){t.verifyCaptcha=!0}):void 0!==this.randomCodeObj.authcode&&(this.isNeedResetImgCodeFlag=!0,this.ajaxRandomErrorMsg=langMap.common_js_wrongcode)}}}},WZjs:function(t,e,i){"use strict";var a=i("mvHQ"),n=i.n(a),o=i("Dd8w"),s=i.n(o),r=i("0sm7"),c=i("NYxO"),l=i("R0OB"),d=i("kPmj"),g=i("N8aJ"),u=i("iZIk");e.a={mixins:[u.a],data:function(){return{mixinOptypeEnum:{OPTYPE0_PWD_LOGIN:0,OPTYPE1_ACCOUNT_PROTECT_1:1,OPTYPE4_ACCOUNT_PROTECT_2:4,OPTYPE5_VERIFICATION:5,OPTYPE6_VERIFICATION:6,OPTYPE7_VERIFICATION:7,OPTYPE8_VERIFICATION:8,OPTYPE9_UPDATE_LOWPWD:9,OPTYPE11_SMS_LOGIN:11,OPTYPE14_BIND_NEW:14,OPTYPE15_TWICE_BIND_NEW:15,OPTYPE16_COMPLETE_BIRTH:16,OPTYPE17_UPDATE_AGREEMENT:17,OPTYPE18_UPDATE_AGREEMENT:18}}},computed:s()({},Object(c.d)("common",["localInfo","stateDialogData","stateSmsloginData"])),methods:s()({},Object(c.c)("common",["setStatePopType","setStateDialogData"]),Object(c.c)("login",["setStatePwdloginData","setIsDoubleVerification","setIsNotTrustBrowserVerify","setStateSmsloginData"]),{mixinShowErrorCode:function(t,e,i,a,n){var o=e.errorCode;try{var s=JSON.parse(e.errorDesc);void 0!==s&&s.extInfo&&this.setStatePwdloginData({extInfo:s.extInfo})}catch(t){}switch(o){case"10002080":case"10012072":case"10012076":this.dealAuthrization(s,n);break;case"10001015":this.dealAgreeDeviceFingerAgr(s,n);break;case"10000507":this.dealNotAllowCrossSiteLogin(s);break;case"10000508":this.dealNotAllowLoginCrossSiteAccBindThird();break;case"10000511":this.dealRedirectBelongSiteLogin(e);break;case"10000201":this.dealCaptchaInvalid();break;case"10000003":case"70002076":void 0!==s&&r.c.isTrue(s.isFrozedByManager)?this.dealFrozedByManager():this.dealFrozeAccountLogin();break;case"70002057":case"70002058":case"70002039":"smsLogin"==n?this.setLoginErrorObj({smsAuthCodeError:t}):this.setLoginErrorObj({msg:t});break;case"10012079":this.dealCompleteBirth(s,n);break;case"70007005":this.setStatePopType("completeBirthNotChild");break;case"10000512":this.dealNotAllowManageIDLogin();break;case"70002059":this.setLoginErrorObj({pwdLoginError:langMap.account_or_pwd_expired});break;default:this.otherLoginErrorCodeDeal(t,e,i,a)}},setLoginData:function(t,e){"pwdLogin"==e?this.setStatePwdloginData(t):"smsLogin"==e&&this.setStateSmsloginData(t)},getLoginData:function(t,e){return"pwdLogin"==e?this.statePwdloginData[t]:"smsLogin"==e?this.stateSmsloginData[t]:"qrCodeLogin"==e?this.stateDialogData[t]:void 0},getOptype:function(t){return"pwdLogin"==t?this.mixinOptypeEnum.OPTYPE17_UPDATE_AGREEMENT:"smsLogin"==t?this.mixinOptypeEnum.OPTYPE18_UPDATE_AGREEMENT:void 0},dealAuthrization:function(t,e){this.setLoginData({riskValidate:!0},e),this.setIsDoubleVerification(r.c.isTrue(t.isDoubleVerification)),this.setIsNotTrustBrowserVerify(r.c.isTrue(t.isNotTrustBrowserVerify)),this.dealLoginAuthrization(t)},dealAgreeDeviceFingerAgr:function(t,e){var i=this,a={agrIDs:n()(t.updateAgrs),registerCountry:t.registerCountry,countryCode:t.registerCountry,isChild:t.isChild,lang:this.localInfo.lang,clientID:this.localInfo.clientID,reqClientType:this.localInfo.reqClientType,operType:"2",loginChannel:this.localInfo.loginChannel};r.c.isTrue(t.isNeedAgreeManagedIDAgrs)?(i.setStateDialogData({isNeedAgreeManagedIDAgrs:t.isNeedAgreeManagedIDAgrs,needAgreeAgrSite:t.needAgreeAgrSite,userAccount:i.getLoginData("userAccount",e),opType:19}),i.setStatePopType("updateAgreement")):d.a.getAgreementContent(a,function(a){i.setStateDialogData({updateAgreementCallbackFn:i.stateDialogData.updateAgreementCallbackFn,opType:i.getOptype(e),guardianUserAccount:t.guardianAccount,_10agrAgreeOrNot:t._10agrAgreeOrNot,isFirstAgree:t.isFirstAgree,agreeForReg:a.agreeForReg,userAccount:i.getLoginData("userAccount",e),agreementContents:a.agreementContents,agrAccountSiteID:a.countrySiteID,guardianExtInfo:t.guardianExtInfo,huaweiIDAgrUrl:a.huaweiIDAgrUrl,privacyUrl:a.privacyPolicyUrl,sceneId:a.sceneId,cookieUrl:a.cookieUrl,userPrivacyUrl:a.userPrivacyUrl,letterOfConsentUrl:a.letterOfConsentUrl,isChild:t.isChild}),t.isNeedVerifyGuardianPwd?i.setStatePopType("verifyGuardianPwd"):i.setStatePopType("updateAgreement")},function(t,e){i.showLoginErrorMessage(t)})},dealNotAllowCrossSiteLogin:function(t){var e=this,i=langMap.common_hint,a=langMap.common_noSupportService,n=langMap.common_ok;t&&r.c.isTrue(t.isManagedID)&&(i="",a=langMap.region_noSupportService,n=langMap.common_I_know);var o={title:i,text:a,btnRight:{text:n,callbackFn:function(){l.a.sendData("CROSSLOGIN_NOSERVICE_CLICK_CONFIRM"),e.setStatePopType("")}}};e.setStateDialogData(o),l.a.sendData("CROSSLOGIN_NOSERVICE_POP"),e.setStatePopType("simpleDialog")},dealNotAllowLoginCrossSiteAccBindThird:function(){var t=this,e={title:langMap.uc_common_hint,text:langMap.no_allow_cross_site_login,btnRight:{text:langMap.common_ok,callbackFn:function(){l.a.sendData("CROSSLOGIN_CANTBIND_CLICK_CONFIRM"),t.setStatePopType("")}}};t.setStateDialogData(e),l.a.sendData("CROSSLOGIN_CANTBIND_POP"),t.setStatePopType("simpleDialog")},dealRedirectBelongSiteLogin:function(t){if(!this.localInfo.isThirdBind){var e=t.redirectSiteUrl,i=t.extInfo;e.indexOf("oauth2")>0?e+=this.localInfo.urlQuery:r.c.isTrue(this.localInfo.lowLogin)&&r.c.isTrue(this.localInfo.supportNewCloudLogin)?e=e+this.localInfo.requestURIQuery+"&lowLogin=true":e+=this.localInfo.requestURIQuery,i&&(e=e.indexOf("?")>0?e+"&extInfo="+i:e+"?extInfo="+i),this.openGlobalCrossSite(e)}},openGlobalCrossSite:function(t){var e=this,i={title:langMap.uc_common_hint,text:langMap.global_cross_page_redirect,btnLeft:{text:langMap.common_cancel,callbackFn:function(){l.a.sendData("CROSSLOGIN_NOTALLOW_CLICK_CANCEL"),e.setStatePopType("")}},btnRight:{text:langMap.common_ok,loadingName:"loading_pwdLogin_openGlobalCrossSite",callbackFn:function(){l.a.sendData("CROSSLOGIN_NOTALLOW_CLICK_CONFIRM"),g.a.addLoading(this.loadingName);var e=t;r.c.goOutUrl(e)}}};e.setStateDialogData(i),l.a.sendData("CROSSLOGIN_NOTALLOW_POP"),e.setStatePopType("simpleDialog")},dealCaptchaInvalid:function(){this.showRandomCode()},dealFrozeAccountLogin:function(){var t=this,e={text:langMap.uc_error_70002076,btnRight:{text:langMap.common_ok,loadingName:"loading_gotoUnfroze",callbackFn:function(){l.a.sendData("ACCOUNTFROZEN_CLICK_CONFIRM"),g.a.addLoading("loading_gotoUnfroze"),t.gotoUrlWithExtInfo(t.getUnfrozeAccountUrl())}},btnLeft:{text:langMap.common_cancel,callbackFn:function(){l.a.sendData("ACCOUNTFROZEN_CLICK_CANCEL"),t.setStatePopType("")}}};t.setStateDialogData(e),l.a.sendData("ACCOUNTFROZEN_POP"),t.setStatePopType("simpleDialog")},dealCompleteBirth:function(t,e){this.setStateDialogData({ageLimit:t.ageLimit,userName:t.userName,extInfo:t.extInfo,loginType:e}),this.setStatePopType("completeBirth")},dealNotAllowManageIDLogin:function(){var t=this,e={title:langMap.common_hint,text:langMap.un_support_manage_id_login,btnRight:{text:langMap.common_I_know,callbackFn:function(){t.setStatePopType("")}}};t.setStateDialogData(e),t.setStatePopType("simpleDialog")},dealFrozedByManager:function(){var t=this,e={text:langMap.account_frozed_by_manager,btnRight:{text:langMap.common_I_know,callbackFn:function(){t.setStatePopType("")}}};t.setStateDialogData(e),t.setStatePopType("simpleDialog")},dealSameUserWithParent:function(t){var e=this,i=langMap.reg_child_login_same_parent;"45"!=this.localInfo.reqClientType&&"45000300"!=this.localInfo.loginChannel||(i=langMap.reg_child_login_watch);var a={text:i,btnRight:{text:langMap.common_I_know,callbackFn:function(){e.setStatePopType(""),t&&t()}}};e.setStateDialogData(a),e.setStatePopType("simpleDialog")},showDialogMsg:function(t,e){var i=this,a={text:t,btnRight:{text:langMap.common_I_know,callbackFn:function(){i.setStatePopType(""),"function"==typeof e&&e()}}};i.setStateDialogData(a),i.setStatePopType("simpleDialog")}})}},"jZP/":function(t,e){},m5L5:function(t,e,i){"use strict";var a,n=i("Xxa5"),o=i.n(n),s=i("exGp"),r=i.n(s),c=i("Dd8w"),l=i.n(c),d=i("NYxO"),g=i("kPmj"),u=i("oq85"),h=i("RvBK"),p=i("i1Te"),m=i("WZjs"),f=i("0sm7"),C={mixins:[u.a,m.a],data:function(){return{mixinErrorPage:""}},computed:l()({},Object(d.d)("login",["statePwdloginData"]),Object(d.d)("common",["statePopType","stateDialogData"])),methods:l()({},Object(d.c)("common",["setStatePopType","setStateDialogData"]),Object(d.c)("login",["setStatePwdloginData","setLoginErrorObj"]),{otherLoginErrorCodeDeal:function(t,e,i,a){var n=i&&(i.opType||i.operType)||this.mixinOptypeEnum.OPTYPE0_PWD_LOGIN,o=e.errorCode;try{var s=JSON.parse(e.errorDesc)}catch(t){}switch(o){case"10002081":case"10008005":this.dealUpdatePassword(i);break;case"10002071":this.dealActivateAccount();break;case"10000706":this.dealNeedImgCode();break;case"10001049":this.dealSelectLoginID(e,s);break;case"10000400":"0"==n&&(this.statePwdloginData.isAvatarLogin&&(t=langMap.login_pwd_errorCode_10000400),this.setLoginErrorObj({pwdLoginError:t}));break;case"10002039":"0"==n?this.setLoginErrorObj({pwdLoginError:t}):this.setLoginErrorObj({msg:t});break;case"10002057":case"10002058":if("0"==n)this.statePwdloginData.isAvatarLogin&&("10002057"==o?t=langMap.login_pwd_errorCode_70002057:"10002058"==o&&(t=langMap.login_pwd_errorCode_70002058)),this.setLoginErrorObj({pwdLoginError:t});else{if("10002058"==o&&this.stateDialogData.authAccountType&&-1===this.stateDialogData.authAccountType){var r=this;p.a.forEach(r.stateDialogData.accountInfoArr,function(t){t.accountType===r.stateDialogData.authAccountType&&t.userAccount===r.stateDialogData.authUserAccount&&(t.leftTimes=0)})}this.setLoginErrorObj({msg:t})}break;case"70008001":case"70002070":case"70002020":case"70009016":"0"==n?this.setLoginErrorObj({pwdLoginError:t}):this.setLoginErrorObj({msg:t});break;case"70006007":case"70002002":case"70002100":case"10012077":this.setLoginErrorObj({isPhoneError:!0,msg:t});break;case"10012075":this.setStatePwdloginData({AcctNationalCode:s.AcctNationalCode}),this.setStatePopType("forceBindPhone");break;case"10012078":this.setStatePwdloginData({AcctNationalCode:s.AcctNationalCode}),this.setStateDialogData(s),this.setStatePopType("regOldUserBind");break;case"10002083":this.setLoginErrorObj({pwdLoginError:langMap.uc_error_operate_too_much.format("01"+e.logID)});break;case"70001201":a&&"function"==typeof a&&a();break;case"70002010":this.showDialogMsg(t);break;case"70006063":this.dealUpdatePassword(i,!0);break;default:this.showLoginErrorMessage(t)}},dealLoginAuthrization:function(t){var e=t.authCodeSentList,i=t.tipsSceneID,a=[],n=!1,o=[],s="";p.a.forEach(e,function(t){1==t.sent&&-1==t.accountType?(n=!0,""==s&&t.name&&""!=t.name&&"unknown"!=t.name.toLowerCase()&&(s=t.name),o.push({accountType:t.accountType,userAccount:t.name,leftTimes:1})):a.push({accountType:t.accountType,userAccount:t.name})}),n&&(a=[o[0]].concat(a));var r={authCodeSentList:e,accountInfoArr:a,tipsSceneID:i,deviceName:s,secAuthAccountArr:o,userAccountTmp:this.statePwdloginData.userAccount,passwordTmp:this.statePwdloginData.password,siteID:this.statePwdloginData.curAccountSiteID,accountTypeTmp:this.getAccountType(this.statePwdloginData.userAccount),authUserAccount:a[0].userAccount,authAccountType:a[0].accountType,isDoubleVerification:f.c.isTrue(t.isDoubleVerification)};this.setStateDialogData(r),this.setStatePopType("authentication")},dealUpdatePassword:function(t,e){var i={opType:this.mixinOptypeEnum.OPTYPE9_UPDATE_LOWPWD,userAccount:t.userAccount};e&&f.c.isTrue(e)&&(i.isManagedID=e),t.twoStepVerifyCode&&(i.tipsSceneID=t.tipsSceneID,i.twoStepVerifyCode=t.twoStepVerifyCode,i.verifyUserAccount=t.verifyUserAccount,i.verifyAccountType=t.verifyAccountType,i.opType=this.mixinOptypeEnum.OPTYPE6_VERIFICATION),this.setStateDialogData(i),this.setStatePopType("updatePWD")},dealActivateAccount:function(){var t=f.c.trimAllSpace(this.statePwdloginData.userAccount);t=this.convPlusOfPhoneAccount(t);var e=this.getAccountType(t),i={userAccountTmp:t,extInfo:this.statePwdloginData.extInfo};this.setStateDialogData(i),"2"==e?this.setStatePopType("activatePhoneAccount"):"1"==e?this.setStatePopType("activateEmailAccount"):this.errorMsg=langMap.uc_error_70002009},dealNeedImgCode:function(){this.setStatePwdloginData({isNeedImageCode:!0}),this.showRandomCode()},dealSelectLoginID:function(t,e){var i=this;if(void 0!==e&&void 0!==e.loginIDList)this.setStatePwdloginData({popStep:3,multiAccountData:e.loginIDList,selectMultiAccountAndLogin:!0}),this.setStatePopType("regSelectSiteCountryHwid");else{var a={title:langMap.uc_common_hint,text:langMap.uc_error_system_busy.format("02"+t.logID),btnRight:{text:langMap.common_ok,callbackFn:function(){i.setStatePopType("")}}};this.setStateDialogData(a),this.setStatePopType("simpleDialog")}},showLoginErrorMessage:function(t){p.a.isEmpty(this.statePopType)?this.setLoginErrorObj({pwdLoginError:t}):this.setLoginErrorObj({msg:t})}})},w=i("iZIk"),D=i("N8aJ");e.a={mixins:[u.a,w.a,h.a,C],data:function(){return{mixinErrorPage:""}},computed:l()({},Object(d.d)("common",["localInfo","deviceFinger","statePopType","stateDialogData"]),Object(d.d)("login",["statePwdloginData","reflashImageCode","isDoubleVerification","isNotTrustBrowserVerify"])),methods:l()({},Object(d.c)("common",["setStatePopType"]),Object(d.c)("login",["setStatePopTypeDelay","setStatePwdloginData","setReflashImageCode","setLoginSuccess","setIsDoubleVerification","setIsNotTrustBrowserVerify","setBeforeLoginRedirectAction"]),{mixinAjaxChkRisk:function(t,e){var i=this;return r()(o.a.mark(function e(){var a,n,s,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(t,e){"10001060"==e.errorCode?n.forbidSameAccount():n.setLoginErrorObj({pwdLoginError:t})},s=function(t){n.statePwdloginData.giveUpBlurEvent||(n.setStatePwdloginData({popStep:1,curAccountSiteID:t.siteID,multiAccountData:t.siteInfoList,isNeedImageCode:t.isNeedImageCode,norCrossModel:t.crossSiteModel,extInfo:t.extInfo,lowLogin:t.lowLogin}),t.siteInfoList&&(t.siteInfoList.length>1?("1"==n.localInfo.displayCaptchaType&&n.setStatePwdloginData({isNeedImageCode:!1}),n.setStatePopTypeDelay(!0),n.setStatePopType("regSelectSiteCountryHwid")):1==t.siteInfoList.length?(n.setStatePwdloginData({chkRiskSuccess:!0}),2==t.crossSiteModel&&n.dealRedirectBelongSiteLogin(t)):0==t.siteInfoList.length&&"10000507"==t.errorCode&&n.dealNotAllowCrossSiteLogin()))},p.a.isEmpty(i.statePopType)){e.next=4;break}return e.abrupt("return");case 4:return i.setStatePwdloginData({riskValidate:!1,chkRiskSuccess:!1}),i.setIsDoubleVerification(!1),a={userAccount:i.convPlusOfPhoneAccount(i.statePwdloginData.userAccount),reqClientType:i.localInfo.reqClientType,loginChannel:i.localInfo.loginChannel,clientID:i.localInfo.clientID,operType:"0",lowLogin:i.localInfo.lowLogin,service:i.localInfo.service,scope:i.localInfo.scope,ext_clientInfo:"undefined"!=typeof hwidSDK?hwidSDK._businessConfig.ext_clientInfo:null},n=i,e.next=10,g.a.chkRisk(p.a.assign(a,t),s,r);case 10:case"end":return e.stop()}},e,i)}))()},forbidSameAccount:function(){var t=this;return r()(o.a.mark(function e(){var i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(i=t).dealSameUserWithParent(function(){i.setStatePwdloginData({userAccount:"",displayUserAccount:""})});case 2:case"end":return e.stop()}},e,t)}))()},mixinAjaxRemoteLogin:p.a.debounce((a=r()(o.a.mark(function t(e){var i,a,n,s,r,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=function(t,e){D.a.clearLoading();try{hwcap&&hwcap.reload()}catch(t){}s.mixinShowErrorCode(t,e,i,null,"pwdLogin")},r=function(t){D.a.clearLoading(),s.remoteLoginSuccessFn(t)},i={loginUrl:this.localInfo.loginUrl,service:this.localInfo.service,loginChannel:this.localInfo.loginChannel,reqClientType:this.localInfo.reqClientType,lang:this.localInfo.lang,quickAuth:this.localInfo.quickAuth,isThirdBind:this.localInfo.isThirdBind||0,hwmeta:this.deviceFinger,lowLogin:this.statePwdloginData.lowLogin,userAccount:this.convPlusOfPhoneAccount(this.statePwdloginData.userAccount),password:this.statePwdloginData.password,clientID:this.localInfo.clientID,scope:this.localInfo.scope},this.stateDialogData.isNeedAgreeManagedIDAgrs&&(i.operType=this.stateDialogData.operType),this.statePwdloginData.isNeedImageCode&&(i=p.a.extend(i,this.randomCodeObj)),a={},n={},(this.statePwdloginData.displayIsLoginId||1==this.statePwdloginData.isReReg)&&(a={registerCountry:this.statePwdloginData.registerCountry,anonymousLoginID:this.statePwdloginData.anonymousLoginID},i=p.a.extend(i,a),n=p.a.extend(n,a,{operType:13})),!this.needCallChkRisk()){t.next=16;break}return t.next=11,this.mixinAjaxChkRisk(n);case 11:if(1!=this.statePwdloginData.isNeedImageCode||!p.a.isEmpty(this.randomCodeObj)){t.next=15;break}return D.a.clearLoading(),"1"==this.localInfo.displayCaptchaType&&(this.verifyCaptcha=!0),t.abrupt("return");case 15:i=p.a.extend(i,{lowLogin:this.statePwdloginData.lowLogin});case 16:if(this.statePwdloginData.chkRiskSuccess){t.next=19;break}return D.a.clearLoading(),t.abrupt("return");case 19:p.a.assign(i,e),6==i.opType||9==i.opType?g.a.riskLogin(i,r,c):g.a.remoteLogin(i,r,c),s=this;case 22:case"end":return t.stop()}},t,this)})),function(t){return a.apply(this,arguments)}),500,{leading:!0,trailing:!1}),remoteLoginSuccessFn:function(t){var e=this;this.localInfo.extInfo=t.extInfo;var i=t.needPopTrust,a=t.needVerifyOrChangePhone,n=this.convPlusOfPhoneAccount(this.statePwdloginData.userAccount),o=this.statePwdloginData.password;if(this.setBeforeLoginRedirectAction(function(){document.getElementsByClassName("hwid-hidden-useraccount").length>0&&document.getElementsByClassName("hwid-hidden-password").length>0&&(document.getElementsByClassName("hwid-hidden-useraccount")[0].value=n,document.getElementsByClassName("hwid-hidden-password")[0].value=o)}),this.setStatePwdloginData({needVerifyOrChangePhone:a,verifyAccountList:t.verifyAccountList,callbackURL:this.getLoginSuccessCallbackUrl(t),verifyOrChangePhoneCallbackFn:function(i){return"true"==e.localInfo.lowLogin?(e.setLoginSuccess(!0),e.successLoginCallback(e.getLoginSuccessCallbackUrl(t))):(e.setLoginSuccess(!0),e.successLoginCallback(e.localInfo.localHttps+"/remoteLogin"+e.localInfo.urlQuery)),!1}}),this.setStateDialogData(l()({},this.stateDialogData,{loginAccount:this.convPlusOfPhoneAccount(this.statePwdloginData.userPhoneAccount||this.statePwdloginData.userAccount),needVerifyOrChangePhone:a,callbackURL:this.getLoginSuccessCallbackUrl(t),unTrustExpired:f.c.isTrue(t.unTrustExpired)})),i&&this.statePwdloginData.riskValidate&&!this.isDoubleVerification)this.setStatePopType("trustBrowser");else{if(!a)return this.setLoginSuccess(!0),this.successLoginCallback(this.getLoginSuccessCallbackUrl(t)),!1;this.setStatePopType("verifyOrChangePhone")}},isNeedGtRandomCode:function(){return!this.needCallChkRisk()&&1==this.statePwdloginData.isNeedImageCode&&"1"==this.localInfo.displayCaptchaType},needCallChkRisk:function(){var t=this.statePwdloginData.norCrossModel;return void 0===t||null===t||""===t}})}}});